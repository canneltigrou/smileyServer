<!DOCTYPE html>
<link rel="stylesheet", type="text/css" href="{{ url_for('static', filename='style.css') }}">

<html>
    <head>
    <meta charset="utf-8">
        <title>:-)</title>
        <h1> Make a face, I will do a face!</h1>
      
        <style>
        #container {
            margin: 0px auto;
            width: 500px;
            height: 375px;
            border: 10px #333 solid;
        }
        #videoElement {
            width: 500px;
            height: 375px;
            background-color: #666;
        }
        </style>
    </head>
      
    <body>
        <div id="container">
            <video autoplay="true" id="videoElement">
            
            </video>
        </div>
        <script>
            var video = document.querySelector("#videoElement");

            if (navigator.mediaDevices.getUserMedia) {
            navigator.mediaDevices.getUserMedia({ video: true })
                .then(function (stream) {
                    video.srcObject = stream;
                    console.log('I have the video!');

                    function goPython(){
                        $.ajax({
                            url: "../smiley.py",
                        context: document.body
                        }).done(function() {
                            alert('finished python script');;
                        });
                    }
                })
                .catch(function (err0r) {
                    console.log("Something went wrong!");
                });
            }
        </script>
        <!-- <homepage-template"</homepage-template> -->
    </body>
</html>

<!--
    TO STOP THE STREAM:
    function stop(e) {
        var stream = video.srcObject;
        var tracks = stream.getTracks();

        for (var i = 0; i < tracks.length; i++) {
            var track = tracks[i];
            track.stop();
        }
        video.srcObject = null;
    }
-->

